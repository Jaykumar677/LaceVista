<%- include('header') %>

<!-- Hero Section -->
<section class="hero-section center-align">
  <div class="hero-content">
    <h4>Roasted. Brewed. Restocked.</h4>
    <h1>LaceVista X Classics</h1>
    <div class="buttons">
      <a href="/shop/men" class="btn amber darken-2 m-1">Shop Men</a>
      <a href="/womenGuide" class="btn amber darken-2 m-1">Shop Women</a>
    </div>
  </div>
</section>

<!-- Our Collection Section (Products) -->
<section class="container section">
  <h4 class="center-align" style="margin-bottom: 2rem;">Our Collection</h4>
  <div class="row">
    <div class="col s12 m6 l3">
      <div class="card">
        <div class="card-image">
          <img src="/images/shoe1.jpg" alt="X Lows CHESTNUT">
        </div>
        <div class="card-content center-align">
          <span class="card-title">Nike</span>
          <p>$ 250</p>
        </div>
      </div>
    </div>

    <div class="col s12 m6 l3">
      <div class="card">
        <div class="card-image">
          <img src="/images/shoe2.jpg" alt="X Lows TUSCAN">
        </div>
        <div class="card-content center-align">
          <span class="card-title">New Balance</span>
          <p>$ 180</p>
        </div>
      </div>
    </div>

    <div class="col s12 m6 l3">
      <div class="card">
        <div class="card-image">
          <img src="/images/shoe3.jpg" alt="X Lows TIRAMISU">
        </div>
        <div class="card-content center-align">
          <span class="card-title">X Lows TIRAMISU</span>
          <p>$ 170</p>
        </div>
      </div>
    </div>

    <div class="col s12 m6 l3">
      <div class="card">
        <div class="card-image">
          <img src="/images/shoe4.jpg" alt="X Lows GOBLIN">
        </div>
        <div class="card-content center-align">
          <span class="card-title">GOBLIN</span>
          <p>$ 120</p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="inspiration-banner center-align">
  <h3 class="inspiration-text">
    <span class="highlighted-text">GOOD SHOES</span> WILL TAKE YOU TO GOOD PLACES
  </h3>
</section>

<!-- Policy Info Section -->
<section class="policy-section">
  <div class="container">
    <div class="row center-align">
      <div class="col s12 m4">
        <i class="material-icons large">local_shipping</i>
        <h5>Free Shipping</h5>
        <p>Free shipping for all orders.</p>
      </div>
      <div class="col s12 m4">
        <i class="material-icons large">attach_money</i>
        <h5>Cash on Delivery</h5>
        <p>Cash on delivery at zero cost.</p>
      </div>
      <div class="col s12 m4">
        <i class="material-icons large">autorenew</i>
        <h5>Easy Return</h5>
        <p>Free 7-day return and exchange.</p>
      </div>
    </div>
  </div>
</section>

<!-- âœ… Chatbot Widget -->
<div id="chat-widget" class="z-depth-3">
  <div id="chat-header" onclick="toggleChat()">
    ðŸ’¬ LaceBot
  </div>
  <div id="chat-body" style="display: none;">
    <div id="chat-messages"></div>
    <div class="input-field chat-input-row">
      <input type="text" id="chat-input" placeholder="Ask something..." />
      <button onclick="sendChat()" class="btn-small blue darken-2">Send</button>
    </div>
  </div>
</div>


<script>
  function toggleChat() {
    const body = document.getElementById("chat-body");
    body.style.display = body.style.display === "none" ? "block" : "none";
  }

  async function sendChat() {
    const input = document.getElementById("chat-input");
    const msg = input.value.trim();
    if (!msg) return;

    const messagesDiv = document.getElementById("chat-messages");
    messagesDiv.innerHTML += `<div><strong>You:</strong> ${msg}</div>`;
    input.value = '';

    const response = await fetch('/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ message: msg })
    });

    const data = await response.json();
    messagesDiv.innerHTML += `<div><strong>LaceBot:</strong> ${data.reply}</div>`;
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
  }
</script>

<%- include('footer') %>
